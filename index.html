<html>

<head>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Libre+Franklin:500" rel="stylesheet">
    <script src="https://unpkg.com/jquery@3.3.1/dist/jquery.min.js"></script>
    <!-- <script src="https://raw.githubusercontent.com/davatron5000/Lettering.js/master/jquery.lettering.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.js" integrity="sha256-DmUyrb4gN/djXSeam4fd4L0guKeAqYpAJbf9OWaqrXQ=" crossorigin="anonymous"></script>
    <meta name="theme-color" content="#1bb939">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>Folkbibeln API</title>
</head>

<body>
    <div class="wrapper">
        <header>
            <h1 class="title">Folkbibeln&nbsp;API</h1>
            <h2 class="title">Ett&nbsp;modernt&nbsp;sätt&nbsp;att&nbsp;komma&nbsp;åt&nbsp;ordet</h2>
        </header>
        <div class="content">
            <p>Hej och välkommen till Folkbibeln API!
                <p>Det här är ett API; Tanken är inte att informationen ska konsumeras direkt, utan att det ska funka som ett backend till applikationer.</p>

                <h2>Pröva själv!</h2>
                <div class="form"> <span>Bibelställe: </span>
                    <input spellcheck="false" autocomplete="off" id="txt" type="text" value="Ords"> <a class="button" target="_blank" href="">Hämta</a>
                    <p style="background: #1e8632; margin-top: 10px">boknamn kapitel<span style="color: rgba(255, 255, 255, 0.54)">:vers</span></p>
                    <label><input type="checkbox" onclick="toggle()"> Dekorationer?</label>
                </div>
                <br>
                <p>&darr; Här är alla böcker &darr;</p>
                <div id="books"></div>
                <br>
                <p>Böckerna är indexerade också, för att göra det lite enklare att iterera böckerna. Alltså funkar det lika bra med <span class="click" onclick="insert('Joh 3:16')">Joh 3:16</span> som <span class="click" onclick="insert('42 3:16')">42 3:16</span></p>
                <hr>
                <p>Exempel på inputs som funkar:</p>
                <ul>
                    <li>Joh 3:16</li>
                    <li>1 Mos 1</li>
                    <li>Ords 25:15</li>
                    <li>Joh 1:1-3</li>
                </ul>
                <div class="disclaimer">
                    <h3>Teknisk information</h3>
                    <p>Servern skriven i Go och kjv, databasen är en tsv-fil.</p>
                </div>
        </div>
    </div>
</body>
<script>
    var ann = false

    function toggle() {
        ann = !ann
    }

    function insert(book) {
        $("#txt").val(book);
    }
    (function () {
        var abbreviations = ["1 Mos", "2 Mos", "3 Mos", "4 Mos", "5 Mos", "Jos", "Dom", "Rut", "1 Sam", "2 Sam", "1 Kung", "2 Kung", "1 Krön", "2 Krön", "Esr", "Neh", "Est", "Job", "Ps", "Ords", "Pred", "Höga v", "Jes", "Jer", "Klag", "Hes", "Dan", "Hos", "Joel", "Am", "Ob", "Jon", "Mik", "Nah", "Hab", "Sef", "Hagg", "Sak", "Mal", "Matt", "Mark", "Luk", "Joh", "Apg", "Rom", "1 Kor", "2 Kor", "Gal", "Ef", "Fil", "Kol", "1 Thess", "2 Thess", "1 Tim", "2 Tim", "Tit", "Filem", "Heb", "Jak", "1 Pet", "2 Pet", "1 Joh", "2 Joh", "3 Joh", "Jud", "Upp"];
        var html = "";
        abbreviations.forEach(function (o, i) {
            html += "<span onclick='insert(" + JSON.stringify(o) + ")'>" + o + "</span>";
        });
        $("#books").html(html);
    })()
    var base = "localhost";
    var oldUrl = "";

    function check() {
        var url = "/" + $("#txt").val();
        $(".button").attr("href", url + (ann ? '?annotate' : ''));
    }
    setInterval(check, 100);
    $(document).ready(function () {
        $(".title").lettering();
    });
</script>

</html>